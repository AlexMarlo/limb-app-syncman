<html>
<head>
  <title>Limb Tests</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <script src="../scriptaculous/lib/prototype.js" type="text/javascript"></script>
  <script src="../scriptaculous/src/unittest.js" type="text/javascript"></script>
  <link rel="stylesheet" href="../test.css" type="text/css" />

  <script src="../../Limb.js" type="text/javascript"></script>
</head>
<body>
<h1>Limb package management</h1>
<p>
  Tests for Limb.Packages.SourceFetcher.
</p>

<div id="testlog"></div>
<div id="result"></div>

<script type="text/javascript" language="javascript" charset="utf-8">
// <![CDATA[
  new Test.Unit.Runner({
    testFetch: function()
    {
      var fetcher = new Limb.Packages.SourceFetcher();
      var src = fetcher.get('Foo.js');

      this.assertEqual('Foo = {};', src);
    },

    testFetchUseIncludePath: function()
    {
      var fetcher = new Limb.Packages.SourceFetcher();
      fetcher.setIncludePath(['.', 'lib']);
      var src = fetcher.get('Bar.js');

      this.assertEqual('Bar = {};', src);
    },

    testGetOnce: function()
    {
      var fetcher = new Limb.Packages.SourceFetcher();
      var src = fetcher.getOnce('Foo.js');
      this.assertEqual('Foo = {};', src);

      src = fetcher.getOnce('Foo.js');
      this.assertEqual('', src);
    }
  });
// ]]>
</script>
</body>
</html>